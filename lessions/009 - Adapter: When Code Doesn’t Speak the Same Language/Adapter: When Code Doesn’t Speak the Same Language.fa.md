## 009 - سازگارساز: وقتی همه حرف همو نمی‌فهمن

> گاهی وقتا کدها با هم ساز نیستن. یکی به فارسی حرف می‌زنه، یکی به فرانسه. ولی به لطف Adapter، همه می‌تونن با هم کار کنن... بدون نیاز به کلاس زبان!

### 🍱 تعریف شیک‌ و مجلسی

**Adapter Pattern** (الگوی سازگارساز) یکی از الگوهای ساختاریه که اجازه می‌ده کلاس‌هایی با رابط‌های ناسازگار، بدون نیاز به تغییر در کد اون کلاس‌ها، با هم کار کنن. آداپتر به‌نوعی مترجم بین دو دنیاست.

---

### 🎬 سناریو

تو برنامه‌مون یه سنسور داریم که دما رو به فارنهایت می‌ده. ولی ما (مثل آدم حسابی‌ها 😎) با سلسیوس کار می‌کنیم. نمی‌خوایم سنسور رو تغییر بدیم، ولی می‌خوایم بفهمیم چی می‌گه.

---

### 🔧 کد: وقتی آداپتر میانجی می‌شه

#### 1. کلاس ناسازگار (Adaptee)

```ts
class FahrenheitSensor {
  getTemperature(): number {
    return 98.6; // دما به فارنهایت
  }
}
```

#### 2. اینترفیس مورد انتظار ما (Target)

```ts
interface CelsiusSensor {
  getTemperature(): number; // دما به سلسیوس
}
```

#### 3. کلاس آداپتر (Adapter)

```ts
class FahrenheitToCelsiusAdapter implements CelsiusSensor {
  constructor(private fahrenheitSensor: FahrenheitSensor) {}

  getTemperature(): number {
    const f = this.fahrenheitSensor.getTemperature();
    return ((f - 32) * 5) / 9; // تبدیل به سلسیوس
  }
}
```

#### 4. استفاده ازش در برنامه:

```ts
const fahrenheitSensor = new FahrenheitSensor();
const adapter = new FahrenheitToCelsiusAdapter(fahrenheitSensor);

console.log("دمای سلسیوس:", adapter.getTemperature());
```

---

### 🧠 نکات آموزنده

- اگر نیاز داری از یک کلاس قدیمی یا کتابخونه‌ای با رابط متفاوت استفاده کنی، آداپتر می‌تونه نجات‌دهنده باشه.
- با استفاده از Adapter، هم استقلال کد حفظ می‌شه، هم رابط‌های جدیدتر و قابل فهم‌تری می‌سازیم.

---

### 👁‍🗨 مقایسه با Decorator

| ویژگی         | Adapter               | Decorator                    |
| ------------- | --------------------- | ---------------------------- |
| هدف           | هماهنگ کردن رابط‌ها   | افزودن رفتار یا ویژگی به شیء |
| ساختار        | معمولاً یک لایه ترجمه | معمولاً چند لایه تزیین       |
| تغییر در رابط | بله                   | خیر                          |

---

### 🧃 نتیجه‌گیری نرم و لطیف

Adapter یه پل ارتباطیه بین دنیای قدیم و جدید. هر وقت دیدی یه کلاس بهت می‌گه "من اینطوری کار می‌کنم، بقیه رو نمی‌دونم"، آداپتر رو صدا بزن.
