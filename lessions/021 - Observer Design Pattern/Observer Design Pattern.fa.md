# ุทุฑุญ ูุดุงูุฏูโฺฏุฑ (Observer Design Pattern)

ุทุฑุญ ูุดุงูุฏูโฺฏุฑ (Observer) ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ฺฉ ุดุก (Subject) ุจุชูุงูุฏ ุชุบุฑุงุช ุฎูุฏ ุฑุง ุจู ฺูุฏู ุดุก ุฏฺฏุฑ (Observers) ุงุทูุงุน ุฏูุฏ โ ุจุฏูู ุงูฺฉู ุงู ุงุดุงุก ุจู ูู ูุงุจุณุชฺฏ ุดุฏุฏ ุฏุงุดุชู ุจุงุดูุฏ.

## ๐ง ูุณุฆููโุง ฺฉู ุญู ูโฺฉูุฏ

ูุฑุถ ฺฉูุฏ ฺฉ ุงูพูฺฉุดู ุฎุจุฑ ุฏุงุฑุฏ. ูุฑ ุฒูุงู ฺฉู ฺฉ ุฎุจุฑ ุฌุฏุฏ ููุชุดุฑ ูโุดูุฏุ ุจุงุฏ:

- ุจู ฺฉุงุฑุจุฑุงู ุงูู ุฒุฏู ุดูุฏ
- ููุชูฺฉุดู ููุจุงู ุงุฑุณุงู ุดูุฏ
- ู ุดุงุฏ ุฏุฑ ูุณูุช ุงุฎุจุงุฑ ููุฑ ุจุฑูุฒุฑุณุงู ุงูุฌุงู ุดูุฏ

ุงฺฏุฑ ูููโ ุงูโูุง ุฑุง ูุณุชููุงู ุฏุฑ ฺฉูุงุณ ุฎุจุฑ (NewsPublisher) ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ฺฉุฏุชุงู ุจู ุดุฏุช ุจู ุงุฌุฒุง ุฏฺฏุฑ ูุงุจุณุชู ูโุดูุฏ.

### ูุดฺฉู:

- ูุงุจุณุชฺฏ ุฒุงุฏ ุจู ุงุฌุฒุงุก
- ุณุฎุช ุจูุฏู ุชุบุฑ ุง ุงุถุงูู ฺฉุฑุฏู ุฑูุชุงุฑูุง ุฌุฏุฏ

## ๐ก ุฑุงูโุญู

ูุดุงูุฏูโฺฏุฑูุง ุฑุง ุงุฒ ฺฉูุงุณ ุงุตู ุฌุฏุง ฺฉูุฏ.

- ฺฉูุงุณ **Subject** ูุณุช ุงุฒ **Observers** ูฺฏู ูโุฏุงุฑุฏ.
- ูุฑ ุฒูุงู ฺฉู ุชุบุฑ ุฑุฎ ุฏูุฏุ ูููโ ูุดุงูุฏูโฺฏุฑูุง ุจุง ูุชุฏ `update()` ุฎุจุฑ ูโุดููุฏ.

## ๐จโ๐ป ูพุงุฏูโุณุงุฒ ุณุงุฏู ุฏุฑ ุชุงูพโุงุณฺฉุฑูพุช

```typescript
// ุงูุชุฑูุณ ูุดุงูุฏูโฺฏุฑ
interface Observer {
  update(data: string): void;
}

// ฺฉูุงุณ Subject ฺฉู ูุดุงูุฏูโฺฏุฑูุง ุฑุง ูุฏุฑุช ูโฺฉูุฏ
class Subject {
  private observers: Observer[] = [];

  subscribe(observer: Observer): void {
    this.observers.push(observer);
  }

  unsubscribe(observer: Observer): void {
    this.observers = this.observers.filter((obs) => obs !== observer);
  }

  notify(data: string): void {
    this.observers.forEach((observer) => observer.update(data));
  }
}

// ฺฉ ูุดุงูุฏูโฺฏุฑ ูุดุฎุต
class ConcreteObserver implements Observer {
  constructor(private name: string) {}

  update(data: string): void {
    console.log(`${this.name} ุฏุฑุงูุช ฺฉุฑุฏ: ${data}`);
  }
}

// ุงุณุชูุงุฏู
const subject = new Subject();

const ali = new ConcreteObserver("ุนู");
const sara = new ConcreteObserver("ุณุงุฑุง");

subject.subscribe(ali);
subject.subscribe(sara);

subject.notify("ุฎุจุฑ ุฌุฏุฏ ุฑุณุฏ!");
```

## โ ูุฒุงุง

- ฺฉุงูุด ูุงุจุณุชฺฏ ุจู ุงุฌุฒุงุก
- ุงูฺฉุงู ุงูุฒูุฏู ุฑูุชุงุฑูุง ุฌุฏุฏ ุจุฏูู ุชุบุฑ ฺฉุฏ ููุฌูุฏ
- ุงูุฒุงุด ุงูุนุทุงูโูพุฐุฑ ุณุณุชู

## โ ูุนุงุจ

- ููฺฉู ุงุณุช ุชุนุฏุงุฏ ุฒุงุฏ ูุดุงูุฏูโฺฏุฑูุง ุจุงุนุซ ฺฉูุฏ ุดูุฏ
- ููฺฉู ุงุณุช ุฏุจุงฺฏ ฺฉุฑุฏู ุณุฎุช ุดูุฏ ฺูู ุจุฑูุฒุฑุณุงูโูุง ุจูโุตูุฑุช ูพููุงู ุงุชูุงู ูโุงูุชุฏ

## ๐งฉ ฺฉุงุฑุจุฑุฏูุง

- ุณุณุชูโูุง ุงุนูุงู (notification)
- ูพุชุฑู Pub/Sub ุฏุฑ ุณุณุชูโูุง ุชูุฒุนโุดุฏู
- GUI frameworks ุจุฑุง ุจุฑูุฒุฑุณุงู ูุฌุชโูุง

## ๐ ููุงุจุน

- [Refactoring.Guru - Observer Pattern](https://refactoring.guru/design-patterns/observer)
