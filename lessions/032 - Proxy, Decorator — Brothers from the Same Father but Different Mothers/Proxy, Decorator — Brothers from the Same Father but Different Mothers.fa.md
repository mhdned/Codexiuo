# ูพุฑุงฺฉุณุ ุฏฺฉูุฑุชูุฑุ ุจุฑุงุฏุฑุง ุงุฒ ูพุฏุฑ ฺฉ ุงุฒ ูุงุฏุฑ ุฌุฏุง

ุฏุฑ ุฏูุง ูุฏุฑู ุฌุงูุงุงุณฺฉุฑูพุช ู ุชุงูพโุงุณฺฉุฑูพุชุ ุจุนุถ ุงุจุฒุงุฑูุง ูุซู ุดุฎุตุชโูุง ูพุดุชโูพุฑุฏู ฺฉ ููุงุดูุงูู ูุณุชูุ ุฎูุฏุดูู ุดุงุฏ ุชู ฺุดู ูุจุงุดูุ ูู ฺฉู ุฏุงุณุชุงู ุจุฏูู ุงููุง ููโฺุฑุฎู. ุงูุฑูุฒ ูโุฎูุงู ุณูโุชุง ุงุฒ ุงูุง ุฑู ุจุฑุฑุณ ฺฉูู: **Proxy**ุ **Reflect**ุ ู **Decorator** โ ู ุจุจูู ฺุทูุฑ ุชู NestJS ฺฉูุงุฑ ูู ู ููุงุด ุฏุฑุฌูโฺฉ ุงุฌุฑุง ูโฺฉูู.

---

## ๐ช Proxy ู Reflect ฺู ุงุตูุดุ

### Proxy

Proxy ุงุฒ ECMAScript 2015 (ES6) ุงููุฏู ู ุงุฌุงุฒู ูโุฏู ุชุง ุฑูุชุงุฑูุง ูพุงูโุง objectูุง ูุซู ุฏุณุชุฑุณ ุจู ูพุฑุงูพุฑุชโูุงุ set ฺฉุฑุฏูุ ุญุฐู ู ... ุฑู ฺฉูุชุฑู ฺฉูู.

```ts
const target = { name: "Ali" };

const proxy = new Proxy(target, {
  get(obj, prop) {
    console.log(`Getting ${prop}`);
    return obj[prop];
  },
  set(obj, prop, value) {
    console.log(`Setting ${prop} to ${value}`);
    obj[prop] = value;
    return true;
  },
});
```

### Reflect

Reflect ููุฒูุงู ุจุง Proxy ูุนุฑู ุดุฏ. ู API ุชูุฒ ู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุงุนูุงู ุนููุงุช ุฑู objectูุงุณุช ฺฉู ุฏุฑ ุงุตู ูฺฉูู Proxy ูุญุณูุจ ูโุดู.

```ts
Reflect.get(obj, "name");
Reflect.set(obj, "name", "Reza");
```

> ๐ง Reflect ุชู ูพุดุชโุตุญูู ฺฉูฺฉ ูโฺฉูู Proxyูุง ุชูุฒุชุฑ ฺฉุงุฑ ฺฉูู ู ุงุณุชุงูุฏุงุฑุฏุชุฑ ุจููุณู.

---

## ๐คตโโ๏ธ Decorator ฺู ู ฺู ูุฑู ุจุง Proxy ุฏุงุฑูุ

**Decorator** ุฏุฑ ุชุงูพโุงุณฺฉุฑูพุช ู ุณูุชฺฉุณ ุฎุงุตู ฺฉู ุจุฑุง ุงูุฒูุฏู ูุชุง-ุงุทูุงุนุงุช ุจู ฺฉูุงุณโูุงุ ูุชุฏูุง ู ูพุฑุงูพุฑุชโูุง ุงุณุชูุงุฏู ูโุดู. ุจุฑุฎูุงู Proxy ฺฉู ูููุน ุงุฌุฑุง ุฑูุชุงุฑ ุฑู ุชุบุฑ ูโุฏูุ Decorator ุชู ุฒูุงู **ุชุนุฑู** ฺฉูุงุณ ุนูู ูโฺฉูู.

```ts
function Logger(target: any) {
  console.log("Logging target:", target.name);
}

@Logger
class User {}
```

### ุชูุงูุช Proxy ู Decorator

| ูฺฺฏ         | Proxy              | Decorator                |
| ------------- | ------------------ | ------------------------ |
| ุฒูุงู ุงุฌุฑุง     | Runtime            | Definition time          |
| ุณุทุญ ฺฉูุชุฑู     | ุฑูุชุงุฑ ูุฑ property  | ูุชุงุฏุชุง ุง ุชุฒุฑู         |
| API ุงุณุชุงูุฏุงุฑุฏ | ุจูู (ES6)          | ูู (ููุท TS/experimental) |
| ุงุณุชูุงุฏู ูุนููู | ฺฉูุชุฑู ุฑูุชุงุฑ object | ุชุฒุฑู ูุงุจุณุชฺฏุ ูุงฺฏโฺฏุฑ  |

---

## ๐ Deep Dive ุฏุฑ NestJS: ููู ฺุฒ ุฒุฑ ุณุฑ Reflect ู Proxy

NestJS ุงุฒ Reflect ู Proxy ุจู ุดุฏุช ุงุณุชูุงุฏู ูโฺฉููุ ูู ุฎู ยซููุฏุจยป ู ูพููุงู. ุจุฑู ุจุจูู ฺฉุฌุงูุง:

### 1. Dependency Injection (DI)

NestJS ุจุง ุงุณุชูุงุฏู ุงุฒ Decoratorูุง (`@Injectable`, `@Controller`) ูุชุงุฏุชุง ุฐุฎุฑู ูโฺฉูู ู ุจุนุฏุงู ุจุง Reflect ูโุฎููู ฺฉู ฺู ฺุฒูุง ุจุงุฏ ุชุฒุฑู ุจุดู.

```ts
@Injectable()
export class UserService {
  constructor(private db: DatabaseService) {}
}
```

- ุจุง `Reflect.defineMetadata()` ู `Reflect.getMetadata()` ุงุทูุงุนุงุช ุชุฒุฑู ูุงุจุณุชฺฏ ุฐุฎุฑู ู ุจุงุฒุงุจ ูโุดู.

### 2. Interceptors

Interceptorูุง ฺฉูุงุณโูุง ูุณุชู ฺฉู ุจู Request ู Response ูุงูุ ู ุฏููุง ูุซู Proxy ุงุฌุงุฒู ูโุฏู ุฑูุชุงุฑ ุฑู ูุจู ุง ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุชุฏ ฺฉูุชุฑู ฺฉูู.

```ts
intercept(context: ExecutionContext, next: CallHandler): Observable<any> {
  console.log('Before handler...');
  return next.handle().pipe(tap(() => console.log('After handler...')));
}
```

ุฏุฑ ูุงูุน Nest ูพุดุช ุตุญูู ุงุฒ Proxy ุงุณุชูุงุฏู ูโฺฉูู ุชุง handler ุงุตู ุฑู wrap ฺฉูู ู ุงุฌุงุฒู ุจุฏู Interceptor ุงุฌุฑุง ุดู.

### 3. Guardsุ Pipes ู Filters

ููู ุงูุง ุงุฒ Decorator ุงุณุชูุงุฏู ูโฺฉูู ุชุง ฺฉูุงุณ ุง ูุชุฏ ุฑู ยซุนูุงูุชโฺฏุฐุงุฑยป ฺฉูู ู Nest ุจุง Reflect ุจุฑุฑุณ ฺฉูู ฺฉู ฺู ฺุฒ ุจุงุฏ ูุนุงู ุจุดู.

```ts
@UseGuards(AuthGuard)
@Get('profile')
getProfile() {}
```

### 4. Routing ู Handler Mapping

Nest ุจุง Decorator ูุซู `@Get()`ุ `@Post()` ูุชุงุฏุชุง ูโุฐุงุฑู ุฑู ูุชุฏูุงุ ู ุชู ุฒูุงู ุงุฌุฑุง ุจุง Reflect ุงููุง ุฑู ูพุฏุง ูโฺฉูู ู route ููุงุณุจ ูโุณุงุฒู.

```ts
@Get('users')
findAll() {}
```

---

## ๐ ุฌูุนโุจูุฏ: ฺฉ ุจู ุฏุฑุฏ ฺ ูโุฎูุฑูุ

| ุงุจุฒุงุฑ     | ุจู ุฏุฑุฏ ฺ ูโุฎูุฑูุ                      | ฺฉู ุงุณุชูุงุฏู ูโุดูุ                               |
| --------- | --------------------------------------- | ------------------------------------------------ |
| Proxy     | ุชุบุฑ ุฑูุชุงุฑ object ุฏุฑ ุฒูุงู ุงุฌุฑุง         | ูุงฺฏโฺฏุฑุ validationุ security, dynamic proxying |
| Reflect   | ุนููุงุช meta ุจุฑ ุฑู object/class         | ุฎููุฏู ู ููุดุชู ูุชุงุฏุชุงุ ุชุฑฺฉุจ ุจุง decorator        |
| Decorator | ุนูุงูุชโฺฏุฐุงุฑ ฺฉูุงุณ ุง ูุชุฏ ุจุฑุง Nest ุง DI | ุชุฒุฑูุ validationุ routingุ interceptors         |

---

## ๐งช ูพุงุงู ูุงุฌุฑุง: ูพุฏุฑ ฺฉุ ูุงุฏุฑ ุฌุฏุง

ุฏุฑุณุชู ฺฉู Proxyุ Reflect ู Decorator ูุฑฺฉุฏูู ุฏุงุณุชุงู ุฎูุฏุดูู ุฑู ุฏุงุฑูุ ูู ุชู NestJS ููุดูู ฺฉูุงุฑ ูู ฺฉุงุฑ ูโฺฉูู ุชุง ู ุณุณุชู ูพุดุฑูุชูุ ูุงฺููุงุฑ ู ูุฏุฑุชููุฏ ุจุณุงุฒู.

ูพุณ ุฏูุนู ุจุนุฏ ฺฉู ุฏุฏ ู route ุจู ุฑุงุญุช ฺฉุงุฑ ฺฉุฑุฏุ ุง ู ูุชุฏ ุจุง ุชุฒุฑู ุงุชููุงุชฺฉ ุงุฌุฑุง ุดุฏุ ุงุฏุช ุจุงุดู ูพุดุช ูพุฑุฏู ู ุณุฑ ุขุฏูโุฒุฑูฺฏ (Proxy ู Reflect ู Decorator) ุฏุงุดุชู ุฒุญูุช ูโฺฉุดุฏู ๐

---

๐งต ุงฺฏู ุฏูุณุช ุฏุงุดุช ุงู ููุงููู ุนููโุชุฑ ุงุฏ ุจฺฏุฑ ุง ู ููููู ฺฉุฏ ูุงูุนโุชุฑ ุจุง Proxy/Interceptor ุจุจูุ ฺฉุงูู ุจฺฏ ุชุง ู ูุงู ฺฉุฏ ุฎูุดฺฏู ุจุฑุงุช ุจุณุงุฒู. โ๏ธ
