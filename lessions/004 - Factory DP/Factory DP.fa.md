# دیزاین پترن Factory

دیزاین پترن‌ها اصل مهمی از دانشی هستند که هر برنامه‌نویسی که OOP کار می‌کنه باید بدونه. از این رو توی **Codexiuo** تصمیم گرفتم با مرور این **design pattern**‌ها شروع کنم و یه مقاله کوچیکی برای آموزش اون‌ها هم بذارم.

## کار Factory چیه؟

ببینید وقتی ما می‌خواهیم از ابزاری که داریم چند نوع مختلف استفاده کنیم و از اون‌ها بارها و بارها مدل بسازیم، دیگه نیاز نیست دائم یه سری properties و methods تعریف کنیم. اینجا یه مثال می‌زنیم.

دو مدل خودرو داریم:

- خودرو معمولی ۴ در **Sedan**
- خودرو **SUV**

فرض کنید جفت این خودروها در یک کارخانه تولید می‌شن.

ما همچین کدی خواهیم داشت:

```typescript
interface Car {
  drive(): void;
}

class Sedan implements Car {
  drive(): void {
    console.log("Driving a sedan...");
  }
}

class SUV implements Car {
  drive(): void {
    console.log("Driving an SUV...");
  }
}
```

خب اینجا ما چندین و چند مدل مختلف از این نوع خودروها تولید می‌کنیم. فرض کنید که ما ‌**SUV model 110**, **model 115**, **model 120** هم داریم. اینجا **Factory** به کمک ما میاد.

ما در اینجا دیگه ساخت شی رو به کلاس دیگه‌ای می‌سپاریم، نمیایم از یه سری کد تکراری برای ساخت خودروهای مختلف استفاده کنیم. **Factory** به ما کمک می‌کنه تا ساخت خودروهای مختلف رو مدیریت کنیم و کد خودمون رو تمیزتر و مقیاس‌پذیرتر کنیم.

## پیاده‌سازی Factory

حالا می‌خواهیم کاری کنیم که به‌جای اینکه در هر نقطه از برنامه خودروها رو به صورت دستی بسازیم، این کار رو به کلاس‌های خاصی بسپاریم که **Factory Method** دارند.

برای این کار، یه کلاس **CarFactory** تعریف می‌کنیم که متد `createCar` برای ساخت خودروها رو پیاده‌سازی می‌کنه. هر نوع خودرو یک کلاس خاص خودش رو داره که از این متد استفاده می‌کنه.

```typescript
abstract class CarFactory {
  abstract createCar(): Car;

  startDrive(): void {
    const car = this.createCar();
    car.drive();
  }
}

class SedanFactory extends CarFactory {
  createCar(): Car {
    return new Sedan();
  }
}

class SUVFactory extends CarFactory {
  createCar(): Car {
    return new SUV();
  }
}
```

حالا اینجا می‌خواهیم بدون نیاز به دانستن جزئیات هر خودرو، اون‌ها رو به‌سادگی بسازیم.

```typescript
const sedanFactory = new SedanFactory();
sedanFactory.startDrive(); // Output: Driving a sedan...

const suvFactory = new SUVFactory();
suvFactory.startDrive(); // Output: Driving an SUV...
```

## چرا باید از Factory استفاده کنیم؟

1. **کاهش پیچیدگی:** به‌جای نوشتن کدهای تکراری برای ساخت شیءهای مختلف، این کار رو به کلاس‌های خاص می‌سپاریم.
2. **افزایش مقیاس‌پذیری:** اگر نیاز داشتیم خودروهای جدید اضافه کنیم، کافی‌ست یک کلاس Factory جدید اضافه کنیم بدون اینکه نیاز به تغییر کدهای قبلی باشه.
3. **ایجاد انتزاع:** ما از جزئیات ساخت شیء بی‌خبر می‌مونیم و فقط با فکتوری که متد `createCar` رو داره کار می‌کنیم.

## جمع‌بندی

الگوی **Factory Method** یه راه حل عالی برای ساخت شیءها در برنامه‌های پیچیده‌ست که توی اون‌ها نیاز به تولید انواع مختلفی از اشیاء داریم. این الگو باعث می‌شه کد تمیزتر، مقیاس‌پذیرتر و انعطاف‌پذیرتر بشه. امیدوارم این مقاله بهتون کمک کرده باشه که بهتر با این الگو آشنا بشید و ازش توی پروژه‌هایتون استفاده کنید.
